# L0_General

## UML

## 文件格式

使用csv文件导入数据库，改变列名可能会使得计算失败，因为存入数据库时候的读取表格列名为数据库中表格列名。

### ATR、PSR定标系数格式

|band_wv|fac_value|
|:----:|:----:|
|400|71.82168|
|450|55.99082|
|500|64.02952|
|600|70.84343|
|675|79.54338|
|810|104.8616|
|1000|168.2955|
|1550|457.1789|

### BRDF模型格式

|wavelength|fiso|fvol|fgeo|
|:----:|:----:|:----:|:----:|
|350|0.10836|0.08303|0.00142|
|351|0.10880|0.08334|0.00147|
|352|0.10926|0.08353|0.00157|
|353|0.10969|0.08365|0.00166|
|354|0.11014|0.08397|0.00174|
|...|...|...|...|

### Reference

ρReference、ATR_RSR、ATR_RSR_25分别为光谱曲线、ATR的1nm响应函数、ATR的2.5nm响应函数。

#### ρReference格式

|wavelength|datetimeATRx1|datetimeATRx1|datetimeATRx1|
|:----:|:----:|:----:|:----:|
|350	|0.09463	|0.09508	|0.09488|
|351	|0.09488	|0.09546	|0.09514|
|352	|0.09499	|0.09566	|0.09534|
|353	|0.09538	|0.09601	|0.09574|
|354	|0.09562	|0.0962	    |0.0959|
datetime=yyyymmddHHMM

**例如**：

|wavelength|201908271545ATR01|201908311341ATR02|201908311347ATR00|
|:----:|:----:|:----:|:----:|
|350	|0.09463	|0.09508	|0.09488|
|351	|0.09488	|0.09546	|0.09514|
|352	|0.09499	|0.09566	|0.09534|
|353	|0.09538	|0.09601	|0.09574|
|354	|0.09562	|0.0962	    |0.0959|

在更新表格的时候，需要将所有元素都重新导入。也就是如果只是增加新的，会将旧的数据删除。因为使用的语句为`if_exist=replace`。

## RSR

光谱响应函数，有ATR仪器的，也有卫星的

### ATR

表名:ATRx_RSR

说明：ATRx的1nm响应函数

|wavelength|ch1|ch2|ch3|ch4|ch5|ch6|ch7|ch8|
|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|
|0.35|0|0|0|0|0|0|0|0|
|0.351|0|0|0|0|0|0|0|0|
|0.352|0|0|0|0|0|0|0|0|
|0.353|0|0|0|0|0|0|0|0|

表名:ATRx_RSR_25

说明：ATRx的2.5nm响应函数

|wavelength|ch1|ch2|ch3|ch4|ch5|ch6|ch7|ch8|
|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|
|0.35|0|0|0|0|0|0|0|0|
|0.3525|0|0|0|0|0|0|0|0|
|0.355|0|0|0|0|0|0|0|0|
|0.3575|0|0|0|0|0|0|0|0|

### 载荷
|表名|说明|
|:----:|:----:|
|SatName_RSR|1nm响应函数|
|SatName_RSR_25|2.5nm响应函数|